from matplotlib import pyplot as plt
from numpy import arange

max = 40
size = list(range(1, max + 1))

# NEW RESULTS
bellon_t1 = [0.48506527797917526, 0.539530414354991, 0.562222514659963, 0.5609855410602803, 0.5617102366189244,
             0.5631420970913752, 0.5687079027494316, 0.5662683783541876, 0.5672933886042902, 0.5669015218609474,
             0.5713079892449491, 0.5731881509037084, 0.5731881509037084, 0.5738031570537699, 0.5761094301165004,
             0.5708818778409779, 0.5671918409406089, 0.5647346118228632, 0.5622643371201161, 0.5638018524952699,
             0.5658006224829698, 0.565112626592022, 0.5611150866166222, 0.5598850743164991, 0.5564820402861589,
             0.5583270587363434, 0.5479905625142385, 0.5460071676802901, 0.543547143080044, 0.543547143080044,
             0.5375508331169445, 0.5348448060566738, 0.5291252488611018, 0.5249142655747985, 0.526759284024983,
             0.5221467378995217, 0.5226676842854561, 0.5172248798574118, 0.5187213948225614, 0.5197697007601664]

bellon_t2 = [0.20927664269759838, 0.2764416459759854, 0.30929892430311484, 0.3229288746097872, 0.32775934998187317,
             0.32557462350197225, 0.3247500529635319, 0.32965303785258615, 0.31482847259662694, 0.31080093695518546,
             0.3157802767267648, 0.3127458653068094, 0.31302776858587517, 0.3192933678326717, 0.3185954023866531,
             0.3302458412390788, 0.32971195667647824, 0.3280358191363519, 0.32391654222777777, 0.32319295511539364,
             0.30434843685523544, 0.31963958668928477, 0.3193802041700947, 0.32172729407715056, 0.31926499491250826,
             0.3162597213455056, 0.31406472911034555, 0.31058822536371355, 0.3089845794373627, 0.3053716670664711,
             0.3040935800588148, 0.30157590145824503, 0.3013977442864592, 0.3004355173043632, 0.2990030453649765,
             0.2973668535055648, 0.28888068105016734, 0.28409916024631215, 0.26205354923972546, 0.24960279944810987]

bellon_t3 = [0.025282662576498065, 0.14493598183293874, 0.16247563912373453, 0.17456851764274728, 0.19172364823305263,
             0.19492873239437553, 0.19201926433709318, 0.19771783568973467, 0.19886727341567753, 0.19577716896708666,
             0.20085295413086962, 0.20160215350066804, 0.20167269107089159, 0.1993773459550366, 0.19208173330505074,
             0.19057865811109082, 0.19514982747133205, 0.19464135585045536, 0.19316693260886705, 0.19223856883877946,
             0.19297032350760124, 0.1925206628005478, 0.19154058059255907, 0.18913819311313174, 0.18763864709585887,
             0.18674608982798557, 0.183870588037809, 0.1823690526948461, 0.18227095895697676, 0.18376141472254515,
             0.18031113252734468, 0.18209611440891996, 0.1749982563813126, 0.17185854173093948, 0.16398635973689116,
             0.1589469070660105, 0.15793753889742956, 0.15415863628547152, 0.15114266822191738, 0.14941001402655493]

# # OLD RESULTS (in the paper but with corrected MRR calculation)
# bellon_t1 = [0.4494078766407917, 0.48638928357022154, 0.49533277002575377, 0.4947822744896846, 0.48412243563068247,
#              0.4725357896145489, 0.4659604337315713, 0.45391798580452064, 0.45163971349230003, 0.450837168936087,
#              0.4392767671316483, 0.437909700790896, 0.4347871932305242, 0.420130125209534, 0.4174955771126617,
#              0.40528194512414434, 0.39469725844000364, 0.39033750091836106, 0.3830000919750873, 0.38251783333309,
#              0.3813650624366388, 0.37996711282532614, 0.37982042343051076, 0.3794473975992594, 0.3726370856187564,
#              0.37279956537610437, 0.3674100504524672, 0.36623299566450035, 0.3617297915499239, 0.36116274017230116,
#              0.3550216146224178, 0.3536061724083087, 0.3510030495906528, 0.3461191975686235, 0.347078508490572,
#              0.3394462703490914, 0.33877621645630857, 0.33516756711474854, 0.3355670788150089, 0.33627341344387807]
#
# bellon_t2 = [0.20927664269759838, 0.2764416459759854, 0.30929892430311484, 0.3229288746097872, 0.32775934998187317,
#              0.32557462350197225, 0.3247500529635319, 0.32965303785258615, 0.31482847259662694, 0.31080093695518546,
#              0.3157802767267648, 0.3127458653068094, 0.31302776858587517, 0.3192933678326717, 0.3185954023866531,
#              0.3302458412390788, 0.32971195667647824, 0.3280358191363519, 0.32391654222777777, 0.32319295511539364,
#              0.30434843685523544, 0.31963958668928477, 0.3193802041700947, 0.32172729407715056, 0.31926499491250826,
#              0.3162597213455056, 0.31406472911034555, 0.31058822536371355, 0.3089845794373627, 0.3053716670664711,
#              0.3040935800588148, 0.30157590145824503, 0.3013977442864592, 0.3004355173043632, 0.2990030453649765,
#              0.2973668535055648, 0.28888068105016734, 0.28409916024631215, 0.26205354923972546, 0.24960279944810987]
#
# bellon_t3 = [0.025282662576498065, 0.14493598183293874, 0.16247563912373453, 0.17456851764274728, 0.19172364823305263,
#              0.19492873239437553, 0.19201926433709318, 0.19771783568973467, 0.19886727341567753, 0.19577716896708666,
#              0.20085295413086962, 0.20160215350066804, 0.20167269107089159, 0.1993773459550366, 0.19208173330505074,
#              0.19057865811109082, 0.19514982747133205, 0.19464135585045536, 0.19316693260886705, 0.19223856883877946,
#              0.19297032350760124, 0.1925206628005478, 0.19154058059255907, 0.18913819311313174, 0.18763864709585887,
#              0.18674608982798557, 0.183870588037809, 0.1823690526948461, 0.18227095895697676, 0.18376141472254515,
#              0.18031113252734468, 0.18209611440891996, 0.1749982563813126, 0.17185854173093948, 0.16398635973689116,
#              0.1589469070660105, 0.15793753889742956, 0.15415863628547152, 0.15114266822191738, 0.14941001402655493]

fig = plt.figure()
ax = fig.add_subplot(111)

# OLD RESULTS
ax.scatter([11, 12, 13, 15, 16],
           [0.20085295413086962, 0.20160215350066804, 0.20167269107089159, 0.5761094301165004, 0.3302458412390788],
           c="black", marker="o", label="best MRR")

# # NEW RESULTS
# ax.scatter([4, 11, 12, 13, 16],
#            [0.4947822744896846, 0.20085295413086962, 0.20160215350066804, 0.20167269107089159, 0.3302458412390788],
#            c="black", marker="o", label="best MRR")
ax.plot(size, bellon_t1, c="red", linestyle="-", label=r'type-1 rep. $(r_1)$')
ax.plot(size, bellon_t2, c="green", linestyle="--", label=r'type-2 rep. $(r_2)$')
ax.plot(size, bellon_t3, c="blue", linestyle=":", label=r'type-3 rep. $(r_3)$')

plt.xticks(list(arange(0, max + 1, 4)))
plt.yticks(arange(0.0, 0.70, 0.1))
ax.yaxis.label.set_size(16)
ax.xaxis.label.set_size(16)
ax.yaxis.set_tick_params(labelsize=14)
ax.xaxis.set_tick_params(labelsize=14)
plt.xlabel("n-gram size")
plt.ylabel("MRR")
plt.legend(loc=4, ncol=2, prop={'size': 12})
plt.show()

fig = ax.get_figure()
fig.set_size_inches(6, 3)
fig.savefig('ngram_mrr.pdf', bbox_inches='tight')